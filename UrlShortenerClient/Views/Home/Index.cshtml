@using UrlShortenerClient.Models
@model ShortenedUrlCreateDto

@{
    ViewData["Title"] = "Home Page";
}

<div class="row">
    <br/>
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h1 class="panel-title">Simplify your links</h1>
        </div>
        <div class="panel-body">
            @using (Html.BeginForm("ShortenURL", "Home", FormMethod.Post, true))
            {
                @Html.AntiForgeryToken()

                <fieldset>
                    <div class="form-group">
                        <b>@Html.ValidationSummary(true, string.Empty, new {@class = "text-danger"})</b>
                    </div>

                    <div class="form-group">
                        @Html.ValidationMessageFor(model => model.Url, "", new {@class = "text-danger"})
                        @Html.TextBoxFor(model => model.Url, new {@class = "form-control", placeholder = "Your original URL here"})
                    </div>

                    <div class="form-group">
                        <input class="form-control text-uppercase btn btn-primary" type="submit" value="Shorten URL"/>
                    </div>
                </fieldset>
            }
        </div>
    </div>
</div>

<div class="row">
    <div class="panel-primary">
        <div class="panel-heading">
            <h1 class="panel-title">Shortened URLs</h1>
        </div>
    </div>
</div>

<br/>

<div class="row">
    <table class="table table-striped table-hover">
        <tbody>
        @foreach (var item in (List<ShortenedUrlDto>) ViewData["shUrlList"])
        {
            <tr>
                <td colspan="3">@Html.DisplayFor(modelItem => item.Url)</td>
                <td><a href="@item.ShortenedUrl">@item.ShortenedUrl</a></td>
                <td>@Html.DisplayFor(modelItem => item.CreationDate)</td>
                <td>@Html.ActionLink("Delete", "Delete", new { id = item.Id },new { @class = "btn btn-danger" })</td>
            </tr>
        }
        </tbody>
    </table>
</div>